<!DOCTYPE html>
<html ng-app="yw-editor-app" lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>YesWorkflow Editor</title>
  <script src="https://cdn.jsdelivr.net/jquery/3.1.0/jquery.min.js" data-semver="3.1.0" data-require="jquery"></script>
  <script data-require="angular.js@*" data-semver="1.5.7" src="https://code.angularjs.org/1.5.7/angular.js"></script>
  <script data-require="d3@3.5.3" data-semver="3.5.3" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.js"></script>
  <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.0.2.js"></script>
  <script src="https://code.angularjs.org/1.5.7/angular-sanitize.js"></script>
  <script src="lib/dragscroll/dragscroll.js"></script>
  <script src="lib/resizer/resizer.js"></script>
  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-select/0.19.4/select.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>

<body ng-controller="MainController" style="background: {{background}}">
  
  <!--<div id="options">

    <div class="styled-option">
      Data:
      <select ng-model="dataLabel" ng-change="getGraph()">
        <option value="name">Show name</option>
        <option value="uri">Show URI</option>
        <option value="both">Show both</option>
      </select>
    </div>

    <div class="styled-option">
      Programs:
      <select ng-model="programLabel" ng-change="getGraph()">
        <option value="name">Show name</option>
        <option value="description">Show description</option>
        <option value="both">Show both</option>
      </select>
    </div>

    <div class="styled-option">
      Edges:
      <select ng-model="edgeLabels" ng-change="getGraph()">
        <option value="show">Show labels</option>
        <option value="hide">Hide labels</option>
      </select>
    </div>


  </div>-->
  
  <div id="top-toolbar">

    <select class="editor-option" ng-model="sampleToLoad" ng-change="onScriptSelect()" title="Select a sample script to load">
        <option value="blank.py">blank</option>
        <option value="helloworld.py">Hello</option>
        <option value="greetings.py">Greetings</option>
        <option value="simulate_data_collection.py">Crystals</option>
    </select>

    <div id="viewer-mode-btn-group" class="btn-group btn-group-xs viewer-option">
        
        <label class="btn btn-default" uib-btn-radio="'skeleton'" 
               ng-model="viewerMode" ng-change="viewerModeChange()" 
               title="View YW-defined outline of program">Outline</label>
    
        <label class="btn btn-default"  uib-btn-radio="'dot'" 
               ng-model="viewerMode" ng-change="viewerModeChange()"
               title="View dot source for graphic representation">Dot</label>
        
        <label class="btn btn-default" uib-btn-radio="'graph'" 
               ng-model="viewerMode" ng-change="viewerModeChange()"
               title="View graphic representation of program">Graph</label>
    </div>

  </div>

  <div id="script">
    
    <pre id="editor"></pre>

    <div id="viewer">
      <pre id="text-viewer" ng-hide="showGraphViewer"></pre>
      <div id="graph-viewer" class="dragscroll" ng-show="showGraphViewer" >
        <svg width="10pt" height="10pt" viewBox="0.00 0.00 10.00 10.00" 
             xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        </svg>
      </div>
    </div>
    
  	<div id="script-resizer" 
  		resizer="vertical" 
  		resizer-left="#editor" 
  		resizer-right="#viewer"
      left-min-width="66"
  		resizer-width="8"
      right-min-width="66"
      >
  	</div>

  </div>
  
  <div id="bottom-toolbar">

    <select class="editor-option" ng-model="language" ng-change="languageChange()" title="Select programming language">
      <option value="sh">Bash</option>
      <option value="c_cpp">C/C++</option>
      <option value="java">Java</option>
      <option value="matlab">MATLAB</option>
      <option value="python">Python</option>
      <option value="r">R</option>
    </select>


    <div class="btn-group btn-group-xs editor-option">        
        <label class="btn btn-default" uib-btn-radio="'light'" ng-model="theme" ng-change="themeChange()"
               title="Apply the light editor theme">Light</label>
        <label class="btn btn-default"  uib-btn-radio="'dark'" ng-model="theme" ng-change="themeChange()"
               title="Apply the dark editor theme">Dark</label>
    </div>

    <select class="viewer-option" ng-model="viewerZoom" ng-change="onZoomSelect()" title="Select graphics zoom level">
      <option value="fit">Fit</option>
      <option value="25">25%</option>
      <option value="50">50%</option>
      <option value="75">75%</option>
      <option value="100">100%</option>
      <option value="150">150%</option>
      <option value="200">200%</option>
      <option value="300">300%</option>
    </select>

    <select class="viewer-option"  ng-model="graphView" ng-change="getGraph()"  title="Select workflow view">
      <option value="process">Process</option>
      <option value="data">Data</option>
      <option value="combined">Combined</option>
    </select>

    <select class="viewer-option" ng-model="graphLayout" ng-change="getGraph()" title="Select dataflow direction">
      <option value="rl">Left</option>
      <option value="lr">Right</option>
      <option value="bt">Up</option>
      <option value="tb">Down</option>
    </select>

    <button class="btn btn-default btn-xs viewer-option" ng-model="graphParams" ng-change="getGraph()"
            uib-btn-checkbox btn-checkbox-true="'reduce'" btn-checkbox-false="'hide'"> Params </button>

    <button class="btn btn-default btn-xs viewer-option" ng-model="graphPorts" ng-change="getGraph()"
            uib-btn-checkbox btn-checkbox-true="'group'" btn-checkbox-false="'hide'"> Ports </button>

  </div>

  <script src="https://cdn.jsdelivr.net/ace/1.2.4/min/ace.js" 
          type="text/javascript" charset="utf-8"></script>
  <script src="yw-viewer.js"></script>
</body>

</html>